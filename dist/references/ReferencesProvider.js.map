{"version":3,"sources":["../../src/references/ReferencesProvider.js"],"names":["ReferencesProvider","queries","index","names","namesByQuery","referencesByName","referencesByQueryAndName","Object","keys","map","q","name","query","pos","indexOf"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAEqBA,kB;AAKnB,8BAAYC,OAAZ,EAAqBC,KAArB,EAA4B;AAAA;;AAAA,qCAJlB,EAIkB;;AAAA,mCAFpB,EAEoB;;AAC1B,QACEC,KADF,GAEID,KAFJ,CACEC,KADF;AAAA,QACSC,YADT,GAEIF,KAFJ,CACSE,YADT;AAAA,QACuBC,gBADvB,GAEIH,KAFJ,CACuBG,gBADvB;AAAA,QACyCC,wBADzC,GAEIJ,KAFJ,CACyCI,wBADzC;AAGA,SAAKL,OAAL,GAAeA,OAAf;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAEI,MAAM,CAACC,IAAP,CAAYL,KAAZ,CADI;AAEXC,MAAAA,YAAY,EAAEA,YAAY,CAACK,GAAb,CAAiB,UAACC,CAAD;AAAA,eAAOH,MAAM,CAACC,IAAP,CAAYE,CAAZ,CAAP;AAAA,OAAjB,CAFH;AAGXL,MAAAA,gBAAgB,EAAhBA,gBAHW;AAIXC,MAAAA,wBAAwB,EAAxBA;AAJW,KAAb;AAMD;;;;WAED,uBAAcK,IAAd,EAAkC;AAAA,UAAdC,KAAc,uEAAN,IAAM;;AAChC,UAAIA,KAAK,IAAI,IAAb,EAAmB;AACjB,eAAO,KAAKV,KAAL,CAAWG,gBAAX,CAA4BM,IAA5B,CAAP;AACD;;AACD,UAAME,GAAG,GAAG,KAAKZ,OAAL,CAAaa,OAAb,CAAqBF,KAArB,CAAZ;AACA,aAAO,CAAC,KAAKV,KAAL,CAAWI,wBAAX,CAAoCO,GAApC,KAA4C,EAA7C,EAAiDF,IAAjD,CAAP;AACD;;;WAED,oBAAuB;AAAA,UAAdC,KAAc,uEAAN,IAAM;;AACrB,UAAIA,KAAK,IAAI,IAAb,EAAmB;AACjB,eAAO,KAAKV,KAAL,CAAWC,KAAlB;AACD;;AACD,UAAMU,GAAG,GAAG,KAAKZ,OAAL,CAAaa,OAAb,CAAqBF,KAArB,CAAZ;AACA,aAAO,KAAKV,KAAL,CAAWE,YAAX,CAAwBS,GAAxB,KAAgC,EAAvC;AACD","sourcesContent":["/*\n * Copyright (c) 2002-2017 \"Neo Technology,\"\n * Network Engine for Objects in Lund AB [http://neotechnology.com]\n *\n * This file is part of Neo4j.\n *\n * Neo4j is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default class ReferencesProvider {\n  queries = [];\n\n  index = {};\n\n  constructor(queries, index) {\n    const {\n      names, namesByQuery, referencesByName, referencesByQueryAndName,\n    } = index;\n    this.queries = queries;\n    this.index = {\n      names: Object.keys(names),\n      namesByQuery: namesByQuery.map((q) => Object.keys(q)),\n      referencesByName,\n      referencesByQueryAndName,\n    };\n  }\n\n  getReferences(name, query = null) {\n    if (query == null) {\n      return this.index.referencesByName[name];\n    }\n    const pos = this.queries.indexOf(query);\n    return (this.index.referencesByQueryAndName[pos] || {})[name];\n  }\n\n  getNames(query = null) {\n    if (query == null) {\n      return this.index.names;\n    }\n    const pos = this.queries.indexOf(query);\n    return this.index.namesByQuery[pos] || [];\n  }\n}\n"],"file":"ReferencesProvider.js"}