{"version":3,"sources":["../../src/highlight/CypherSyntaxHighlight.js"],"names":["traverse","element","callback","c","getChildCount","i","getChild","CypherSyntaxHighlight","parseTree","e","TreeUtils","getPosition","start","stop","constructor","name","CypherTypes","VARIABLE_CONTEXT","NODE_LABEL_CONTEXT","RELATIONSHIP_TYPE_CONTEXT","RELATIONSHIP_TYPE_OPTIONAL_COLON_CONTEXT","PROPERTY_KEY_NAME_CONTEXT","PROCEDURE_NAME_CONTEXT","PROCEDURE_OUTPUT_CONTEXT","FUNCTION_NAME_CONTEXT","ALL_FUNCTION_NAME_CONTEXT","REDUCE_FUNCTION_NAME_CONTEXT","FILTER_FUNCTION_NAME_CONTEXT","NONE_FUNCTION_NAME_CONTEXT","EXTRACT_FUNCTION_NAME_CONTEXT","SHORTEST_PATH_FUNCTION_NAME_CONTEXT","ALL_SHORTEST_PATH_FUNCTION_NAME_CONTEXT","SINGLE_FUNCTION_NAME_CONTEXT","EXISTS_FUNCTION_NAME_CONTEXT","ANY_FUNCTION_NAME_CONTEXT","PARAMETER_CONTEXT","CONSOLE_COMMAND_NAME_CONTEXT","CONSOLE_COMMAND_SUBCOMMAND_CONTEXT","CONSOLE_COMMAND_PATH_CONTEXT"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2002-2017 \"Neo Technology,\"\n * Network Engine for Objects in Lund AB [http://neotechnology.com]\n *\n * This file is part of Neo4j.\n *\n * Neo4j is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport TreeUtils from '../util/TreeUtils';\nimport * as CypherTypes from '../lang/CypherTypes';\n\nfunction traverse(element, callback) {\n  if (callback(element)) {\n    // found, no need to go deeper\n    return;\n  }\n  const c = element.getChildCount();\n  if (c === 0) {\n    return;\n  }\n  for (let i = 0; i < c; i += 1) {\n    traverse(element.getChild(i), callback);\n  }\n}\n\nexport default class CypherSyntaxHighlight {\n  static process(parseTree, callback) {\n    traverse(parseTree, (e) => {\n      const { start, stop } = TreeUtils.getPosition(e) || { start: 0, stop: 0 };\n\n      if (start > stop) {\n        return false;\n      }\n\n      if (e.constructor.name === CypherTypes.VARIABLE_CONTEXT) {\n        callback(e, 'variable');\n        return true;\n      }\n\n      if (e.constructor.name === CypherTypes.NODE_LABEL_CONTEXT) {\n        callback(e, 'label');\n        return true;\n      }\n\n      if (e.constructor.name === CypherTypes.RELATIONSHIP_TYPE_CONTEXT\n        || e.constructor.name === CypherTypes.RELATIONSHIP_TYPE_OPTIONAL_COLON_CONTEXT) {\n        callback(e, 'relationshipType');\n        return true;\n      }\n\n      if (e.constructor.name === CypherTypes.PROPERTY_KEY_NAME_CONTEXT) {\n        callback(e, 'property');\n        return true;\n      }\n\n      if (e.constructor.name === CypherTypes.PROCEDURE_NAME_CONTEXT) {\n        callback(e, 'procedure');\n        return true;\n      }\n\n      if (e.constructor.name === CypherTypes.PROCEDURE_OUTPUT_CONTEXT) {\n        callback(e, 'procedureOutput');\n        return true;\n      }\n\n      if (e.constructor.name === CypherTypes.FUNCTION_NAME_CONTEXT) {\n        callback(e, 'function');\n        return true;\n      }\n\n      if (e.constructor.name === CypherTypes.ALL_FUNCTION_NAME_CONTEXT\n        || e.constructor.name === CypherTypes.REDUCE_FUNCTION_NAME_CONTEXT\n        || e.constructor.name === CypherTypes.FILTER_FUNCTION_NAME_CONTEXT\n        || e.constructor.name === CypherTypes.NONE_FUNCTION_NAME_CONTEXT\n        || e.constructor.name === CypherTypes.EXTRACT_FUNCTION_NAME_CONTEXT\n        || e.constructor.name === CypherTypes.SHORTEST_PATH_FUNCTION_NAME_CONTEXT\n        || e.constructor.name === CypherTypes.ALL_SHORTEST_PATH_FUNCTION_NAME_CONTEXT\n        || e.constructor.name === CypherTypes.SINGLE_FUNCTION_NAME_CONTEXT\n        || e.constructor.name === CypherTypes.EXISTS_FUNCTION_NAME_CONTEXT\n        || e.constructor.name === CypherTypes.ANY_FUNCTION_NAME_CONTEXT) {\n        callback(e, 'function');\n        return true;\n      }\n\n      if (e.constructor.name === CypherTypes.PARAMETER_CONTEXT) {\n        callback(e, 'parameter');\n        return true;\n      }\n\n      if (e.constructor.name === CypherTypes.CONSOLE_COMMAND_NAME_CONTEXT) {\n        callback(e, 'consoleCommand');\n        return true;\n      }\n\n      if (e.constructor.name === CypherTypes.CONSOLE_COMMAND_SUBCOMMAND_CONTEXT\n        || e.constructor.name === CypherTypes.CONSOLE_COMMAND_PATH_CONTEXT) {\n        callback(e, 'property');\n        return true;\n      }\n\n      return false;\n    });\n  }\n}\n"],"file":"CypherSyntaxHighlight.js"}