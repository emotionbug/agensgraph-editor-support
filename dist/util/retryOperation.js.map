{"version":3,"sources":["../../src/util/retryOperation.js"],"names":["wait","ms","Promise","r","setTimeout","retryOperation","operation","delay","times","resolve","reject","then","catch","reason","bind"],"mappings":";;;;;;;AAAA,IAAMA,IAAI,GAAG,SAAPA,IAAO,CAACC,EAAD;AAAA,SAAQ,IAAIC,OAAJ,CAAY,UAACC,CAAD;AAAA,WAAOC,UAAU,CAACD,CAAD,EAAIF,EAAJ,CAAjB;AAAA,GAAZ,CAAR;AAAA,CAAb;;AAEe,SAASI,cAAT,CAAwBC,SAAxB,EAAmCC,KAAnC,EAA0CC,KAA1C,EAAiD;AAC9D,SAAO,IAAIN,OAAJ,CAAY,UAACO,OAAD,EAAUC,MAAV;AAAA,WAAqBJ,SAAS,GAC9CK,IADqC,CAChCF,OADgC,EAErCG,KAFqC,CAE/B,UAACC,MAAD,EAAY;AACjB,UAAIL,KAAK,GAAG,CAAR,GAAY,CAAhB,EAAmB;AACjB,eAAOR,IAAI,CAACO,KAAD,CAAJ,CACJI,IADI,CACCN,cAAc,CAACS,IAAf,CAAoB,IAApB,EAA0BR,SAA1B,EAAqCC,KAArC,EAA4CC,KAAK,GAAG,CAApD,CADD,EAEJG,IAFI,CAECF,OAFD,EAGJG,KAHI,CAGEF,MAHF,CAAP;AAID;;AACD,aAAOA,MAAM,CAACG,MAAD,CAAb;AACD,KAVqC,CAArB;AAAA,GAAZ,CAAP;AAWD","sourcesContent":["const wait = (ms) => new Promise((r) => setTimeout(r, ms));\n\nexport default function retryOperation(operation, delay, times) {\n  return new Promise((resolve, reject) => operation()\n    .then(resolve)\n    .catch((reason) => {\n      if (times - 1 > 0) {\n        return wait(delay)\n          .then(retryOperation.bind(null, operation, delay, times - 1))\n          .then(resolve)\n          .catch(reject);\n      }\n      return reject(reason);\n    }));\n}\n"],"file":"retryOperation.js"}